!function(){var e,t=document.querySelector(".js-cart-form form");t&&(Element.prototype.remove||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),(e=document.querySelectorAll(".js-remove-btn"))&&Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(){e.parentNode.remove(),!1===function(){var e=document.querySelectorAll(".js-cart-item");return!(null===e.length||e.length<1)}()&&function(){var e=document.querySelectorAll('button[type="submit"]');e&&Array.prototype.forEach.call(e,function(e){console.log(e),e.disabled=!0})}()}),e.addEventListener("keydown",function(){13===evt.keyCode&&e.parentNode.remove()})}))}(),function(){var e=document.querySelector("body"),t="scrollbar";0<function(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var o=e.offsetWidth;t.style.overflow="scroll";var n=e.offsetWidth;return o==n&&(n=t.clientWidth),document.body.removeChild(t),o-n}()?e.classList.add(t):e.classList.remove(t)}(),function(){var e;(e=document.querySelectorAll(".js-drop-item"))&&Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".js-drop-menu");function o(){t.classList.remove("js-hide")}e.getBoundingClientRect().left+document.body.scrollLeft<=window.innerWidth/2?t.classList.add("js-left"):t.classList.add("js-right"),e.addEventListener("mouseover",function(){!function(e,t){var o=null;e.addEventListener("mouseover",function(){o=setTimeout(t,300)}),e.addEventListener("mouseout",function(){clearTimeout(o)})}(e,o)}),e.addEventListener("mouseleave",function(){t.classList.add("js-hide")})})}(),function(){var e=document.querySelectorAll(".form-select");e&&Array.prototype.forEach.call(e,function(t){var o=t.querySelector(".form-select__btn"),n=t.querySelector(".form-select__title"),r=t.querySelector(".form-select__options"),e=t.querySelectorAll(".form-select__option input"),l=(t.querySelector(".form-select__option input:checked"),t.querySelector(".form-select__option input:checked+label")),c="form-select__btn--open";function i(){l&&(o.textContent=l.textContent)}function a(){o.classList.toggle(c),null===r.getAttribute("style")?r.style.height=r.scrollHeight+"px":(r.style.height=r.scrollHeight+"px",window.getComputedStyle(r,null).getPropertyValue("height"),r.removeAttribute("style")),r.addEventListener("transitionend",function(){null!==r.getAttribute("style")&&(r.style.height="auto")})}Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(){t.querySelector(".form-select__option input:checked"),l=t.querySelector(".form-select__option input:checked+label"),i(),a()})}),i(),o.addEventListener("click",a),document.addEventListener("click",function(e){!o.classList.contains(c)||o.contains(e.target)||n.contains(e.target)||r.contains(e.target)||a()})})}(),function(){var e,t=document.querySelectorAll(".js-modal"),r="js-hide",l=document.querySelector("body"),c="scroll-hidden",o=[{BTN:"селектор кнопки",MODAL:"селектор модалки",CALLBACK:"название функции (если есть)"},{BTN:".js-add-cart-btn",MODAL:".js-modal-add"},{BTN:".js-buy-click-btn",MODAL:".js-modal-buy-click"}];t&&((e=Element.prototype).matches=e.matches||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector,e.closest=e.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):null:null},Array.prototype.forEach.call(t,function(e){var t=e.querySelectorAll(".js-close-btn"),o=e.querySelector(".modal__container");function n(){e.classList.add(r),l.classList.remove(c)}Array.prototype.forEach.call(t,function(e){e.addEventListener("click",n),e.addEventListener("keydown",function(e){13===e.keyCode&&n()})}),e.addEventListener("click",function(e){o.contains(e.target)||n()}),document.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),n())})}),Array.prototype.forEach.call(o,function(t){document.addEventListener("click",function(e){e.target.closest(t.BTN)&&(e.preventDefault(),n(t.MODAL),t.CALLBACK&&"function"==typeof window[t.CALLBACK]&&window[t.CALLBACK]())}),document.addEventListener("keydown",function(e){e.target.closest(t.BTN)&&13===e.keyCode&&(e.preventDefault(),n(t.MODAL),t.CALLBACK&&"function"==typeof window[t.CALLBACK]&&window[t.CALLBACK]())})}));function n(e){var t=document.querySelector(e);t&&(t.classList.remove(r),l.classList.add(c),function(e){var t=e.querySelector('form input[type]:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]):not([type="file"]):not([type="image"])');t&&t.focus()}(t))}}(),function(){var e=document.querySelectorAll('input[type="tel"]');e||Array.prototype.forEach.call(e,function(e){new IMask(e,{mask:"+7(000)000-00-00"})})}(),function(){var e;e=document.querySelectorAll(".quantity-block"),Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".quantity-block__btn--minus"),o=e.querySelector(".quantity-block__btn--plus"),n=e.querySelector("input"),r=n.getAttribute("data-min"),l=n.getAttribute("data-max"),c=r&&parseInt(r)?r:2,i=r&&parseInt(r)?l:100;new IMask(n,{mask:Number,min:c,max:i}),t.addEventListener("click",function(){n.value>c&&(n.value=+n.value-1)}),o.addEventListener("click",function(){n.value<i&&(n.value=+n.value+1)})})}(),new Swiper(".promo-slider",{slidesPerView:1,spaceBetween:0,speed:1e3,loop:!0,grabCursor:!0,keyboard:{enabled:!0},autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".promo-slider__pagination.swiper-pagination",clickable:!0},navigation:{nextEl:".promo-slider__nav--next",prevEl:".promo-slider__nav--prev"}}),function(){var e;(e=document.querySelectorAll(".photo-gallery"))&&Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".photo-gallery__thumbs"),o=e.querySelector(".photo-gallery__top"),n=e.querySelector(".photo-gallery__nav--next"),r=e.querySelector(".photo-gallery__nav--prev"),l=new Swiper(t,{spaceBetween:5.05,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,observer:!0,observeParents:!0});new Swiper(o,{spaceBetween:10,observer:!0,observeParents:!0,navigation:{nextEl:n,prevEl:r},thumbs:{swiper:l}})})}(),function(){var e,r;e=document.querySelectorAll(".js-tab-switch"),r="js-hide",e&&Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".js-controls form"),o=e.querySelector('input[type="radio"]:checked'),n=e.querySelector("."+o.id);n.classList.remove(r),t.addEventListener("change",function(){n.classList.add(r),o=e.querySelector('input[type="radio"]:checked'),(n=e.querySelector("."+o.id)).classList.remove(r)})})}(),function(){var e;(e=document.querySelectorAll(".js-video-poster"))&&Array.prototype.forEach.call(e,function(t){t.addEventListener("click",function(){t.classList.add("js-video-poster-hide")}),t.addEventListener("keydown",function(e){32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),t.classList.add("js-video-poster-hide"))})})}();
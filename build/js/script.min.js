"use strict";!function(){var e,t=document.querySelector(".js-cart-form form");t&&(Element.prototype.remove||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),(e=document.querySelectorAll(".js-remove-btn"))&&Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(){e.parentNode.remove(),!1===function(){var e=document.querySelectorAll(".js-cart-item");return!(null===e.length||e.length<1)}()&&function(){var e=document.querySelectorAll('button[type="submit"]');e&&Array.prototype.forEach.call(e,function(e){console.log(e),e.disabled=!0})}()}),e.addEventListener("keydown",function(){13===evt.keyCode&&e.parentNode.remove()})}))}(),function(){var e=document.querySelector("body"),t="scrollbar";0<function(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var o=e.offsetWidth;return n==o&&(o=t.clientWidth),document.body.removeChild(t),n-o}()?e.classList.add(t):e.classList.remove(t)}(),window.activateDropMenu=function(){var e=document.querySelectorAll(".js-drop-item");e&&Array.prototype.forEach.call(e,function(t){var n=t.querySelector(".js-drop-menu"),e=t.getBoundingClientRect().left+document.body.scrollLeft,o=null,r=1023;function i(){n.classList.remove("js-hide"),t.classList.add("js-drop-item--open"),document.addEventListener("click",u)}function c(){n.classList.add("js-hide"),t.classList.remove("js-drop-item--open"),document.removeEventListener("click",u)}function l(){clearTimeout(o)}function a(){window.innerWidth>r&&function(e){o=setTimeout(e,200)}(i)}function s(){window.innerWidth>r&&(l(),c())}function d(e){window.innerWidth>r||(n.classList.contains("js-hide")?i():n.classList.contains("js-hide")||n.contains(e.target)||c())}function u(e){n.contains(e.target)||t.contains(e.target)||c()}e<=window.innerWidth/2?n.classList.add("js-left"):n.classList.add("js-right"),t.addEventListener("mouseout",l),t.addEventListener("mouseover",a),t.addEventListener("mouseleave",s),t.addEventListener("click",d),window.addEventListener("resize",function(){window.innerWidth<=r?(t.removeEventListener("mouseover",a),t.removeEventListener("mouseleave",s),t.removeEventListener("mouseout",l),t.addEventListener("click",d)):(t.addEventListener("mouseover",a),t.addEventListener("mouseleave",s),t.addEventListener("mouseout",l),t.removeEventListener("click",d))})})},activateDropMenu(),function(){var e=document.querySelectorAll(".form-select");e&&Array.prototype.forEach.call(e,function(t){var n=t.querySelector(".form-select__btn"),o=t.querySelector(".form-select__title"),r=t.querySelector(".form-select__options"),e=t.querySelectorAll(".form-select__option input"),i=(t.querySelector(".form-select__option input:checked"),t.querySelector(".form-select__option input:checked+label")),c="form-select__btn--open";function l(){i&&(n.textContent=i.textContent)}function a(){n.classList.toggle(c),null===r.getAttribute("style")?r.style.height=r.scrollHeight+"px":(r.style.height=r.scrollHeight+"px",window.getComputedStyle(r,null).getPropertyValue("height"),r.removeAttribute("style")),r.addEventListener("transitionend",function(){null!==r.getAttribute("style")&&(r.style.height="auto")})}Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(){t.querySelector(".form-select__option input:checked"),i=t.querySelector(".form-select__option input:checked+label"),l(),a()})}),l(),n.addEventListener("click",a),document.addEventListener("click",function(e){!n.classList.contains(c)||n.contains(e.target)||o.contains(e.target)||r.contains(e.target)||a()})})}(),function(){var i=document.querySelector("body"),n=document.querySelector(".js-mobile-menu-btn"),o=[".page-header__menu",".main-nav"],r="mobile-menu",c="mobile-menu--active",l="mobile-menu--close",a="scroll-hidden";function s(){var e=document.querySelector("."+r),t=e.querySelector(".js-mobile-menu-btn");e&&(e.classList.add(l),e.classList.remove(c),t.disabled=!0,n.disabled=!0),i.classList.remove(a),setTimeout(function(){n.disabled=!1,function(e){var t=document.querySelector("."+e);t&&t.remove()}(r)},600)}n.addEventListener("click",function(){!function(e,t){var n=document.createElement("div"),o=document.createElement("div"),r=e+"__container";n.classList.add(e),o.classList.add(r),Array.prototype.forEach.call(t,function(e){e&&o.appendChild(document.querySelector(e).cloneNode(!0))}),n.appendChild(o),i.appendChild(n)}(r,o);var e=document.querySelector("."+r),t=e.querySelector(".js-mobile-menu-btn"),n=e.querySelector(".mobile-menu__container");window.activateDropMenu(),e&&e.classList.add(c),i.classList.add(a),t.addEventListener("click",function(){s()}),e.addEventListener("click",function(e){n.contains(e.target)||s()})})}(),function(){var e,t=document.querySelectorAll(".js-modal"),r="js-hide",i=document.querySelector("body"),c="scroll-hidden",n=[{BTN:"селектор кнопки",MODAL:"селектор модалки",CALLBACK:"название функции (если есть)"},{BTN:".js-add-cart-btn",MODAL:".js-modal-add"},{BTN:".js-buy-click-btn",MODAL:".js-modal-buy-click"}];t&&((e=Element.prototype).matches=e.matches||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector,e.closest=e.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):null:null},Array.prototype.forEach.call(t,function(e){var t=e.querySelectorAll(".js-close-btn"),n=e.querySelector(".modal__container");function o(){e.classList.add(r),i.classList.remove(c)}Array.prototype.forEach.call(t,function(e){e.addEventListener("click",o),e.addEventListener("keydown",function(e){13===e.keyCode&&o()})}),e.addEventListener("click",function(e){n.contains(e.target)||o()}),document.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),o())})}),Array.prototype.forEach.call(n,function(t){document.addEventListener("click",function(e){e.target.closest(t.BTN)&&(e.preventDefault(),o(t.MODAL),t.CALLBACK&&"function"==typeof window[t.CALLBACK]&&window[t.CALLBACK]())}),document.addEventListener("keydown",function(e){e.target.closest(t.BTN)&&13===e.keyCode&&(e.preventDefault(),o(t.MODAL),t.CALLBACK&&"function"==typeof window[t.CALLBACK]&&window[t.CALLBACK]())})}));function o(e){var t=document.querySelector(e);t&&(t.classList.remove(r),i.classList.add(c),function(e){var t=e.querySelector('form input[type]:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]):not([type="file"]):not([type="image"])');t&&t.focus()}(t))}}(),function(){var e=document.querySelectorAll('input[type="tel"]');e&&Array.prototype.forEach.call(e,function(e){new IMask(e,{mask:"+7(000)000-00-00"})})}(),function(){var e;(e=document.querySelectorAll(".quantity-block"))&&Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".quantity-block__btn--minus"),n=e.querySelector(".quantity-block__btn--plus"),o=e.querySelector("input"),r=o.getAttribute("data-min"),i=o.getAttribute("data-max"),c=r&&parseInt(r)?r:2,l=r&&parseInt(r)?i:100;new IMask(o,{mask:Number,min:c,max:l}),t.addEventListener("click",function(){o.value>c&&(o.value=+o.value-1)}),n.addEventListener("click",function(){o.value<l&&(o.value=+o.value+1)})})}(),new Swiper(".promo-slider",{slidesPerView:1,spaceBetween:0,speed:1e3,loop:!0,grabCursor:!0,keyboard:{enabled:!0},autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".promo-slider__pagination.swiper-pagination",clickable:!0},navigation:{nextEl:".promo-slider__nav--next",prevEl:".promo-slider__nav--prev"}}),function(){var e;(e=document.querySelectorAll(".photo-gallery"))&&Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".photo-gallery__thumbs"),n=e.querySelector(".photo-gallery__top"),o=e.querySelector(".photo-gallery__nav--next"),r=e.querySelector(".photo-gallery__nav--prev"),i=new Swiper(t,{spaceBetween:5.05,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,observer:!0,observeParents:!0});new Swiper(n,{spaceBetween:10,observer:!0,observeParents:!0,navigation:{nextEl:o,prevEl:r},thumbs:{swiper:i}})})}(),function(){var e,r;e=document.querySelectorAll(".js-tab-switch"),r="js-hide",e&&Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".js-controls form"),n=e.querySelector('input[type="radio"]:checked'),o=e.querySelector("."+n.id);o.classList.remove(r),t.addEventListener("change",function(){o.classList.add(r),n=e.querySelector('input[type="radio"]:checked'),(o=e.querySelector("."+n.id)).classList.remove(r)})})}(),function(){var e;(e=document.querySelectorAll(".js-video-poster"))&&Array.prototype.forEach.call(e,function(t){t.addEventListener("click",function(){t.classList.add("js-video-poster-hide")}),t.addEventListener("keydown",function(e){32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),t.classList.add("js-video-poster-hide"))})})}();